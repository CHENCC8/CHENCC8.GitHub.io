{
    "version": "https://jsonfeed.org/version/1",
    "title": "Orange • All posts by \"matlab\" tag",
    "description": "",
    "home_page_url": "https://chencc8.github.io",
    "items": [
        {
            "id": "https://chencc8.github.io/2022/03/20/matlab-jie-gou-hua-cheng-shi-yu-zi-ding-yi-han-shu/",
            "url": "https://chencc8.github.io/2022/03/20/matlab-jie-gou-hua-cheng-shi-yu-zi-ding-yi-han-shu/",
            "title": "matlab结构化程式与自定义函数",
            "date_published": "2022-03-19T16:57:09.000Z",
            "content_html": "<h1 id=\"matlab结构化程式与自定义函数\"><a href=\"#matlab结构化程式与自定义函数\" class=\"headerlink\" title=\"matlab结构化程式与自定义函数\"></a>matlab结构化程式与自定义函数</h1><h2 id=\"MATLAB-Script-脚本\"><a href=\"#MATLAB-Script-脚本\" class=\"headerlink\" title=\"MATLAB Script(脚本)\"></a>MATLAB Script(脚本)</h2><p>A file containing a series of MATLAB commands.<br>Pretty much like a C/C++ program.<br>Scripts need to be saved to a &lt;file&gt;.m file before they can be run.</p>\n<p>tips:1 . matlab中注释符号为%，两个百分号%%分为section(用于debug)<br>   2 . Smart Indent （智能缩进）功能，用于自动对齐<br>   3 . 尽量使用Script Editor（编辑器）</p>\n<h2 id=\"Script-Flow\"><a href=\"#Script-Flow\" class=\"headerlink\" title=\"Script Flow\"></a>Script Flow</h2><p>Typically scripts run from the first line to the last.<br><strong>Structured programming</strong> techniques(subroutine, loop, condition, etc) are applied to make the program looks neat.</p>\n<ul>\n<li>Relational (Logical) Operators<br>  &lt; , &lt;= , &gt; , &gt;= , == , ~=(不等于) , &amp;&amp;, ||</li>\n</ul>\n<h2 id=\"Flow-Control\"><a href=\"#Flow-Control\" class=\"headerlink\" title=\"Flow Control\"></a>Flow Control</h2><table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">if,elseif,else</td>\n<td align=\"center\">break</td>\n</tr>\n<tr>\n<td align=\"center\">for</td>\n<td align=\"center\">continue</td>\n</tr>\n<tr>\n<td align=\"center\">switch,case,otherwise</td>\n<td align=\"center\">end</td>\n</tr>\n<tr>\n<td align=\"center\">try,catch</td>\n<td align=\"center\">pause</td>\n</tr>\n<tr>\n<td align=\"center\">while</td>\n<td align=\"center\">return</td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\"></td>\n</tr>\n</tbody></table>\n<p>tip:<br>   1 . rem(a, 2)是求余数 -&gt; remainder<br>   2 . prod(1:n) -&gt; n的阶乘<br>   如果A是向量，prod(A)返回A向量的乘积。<br>   如果A是矩阵，prod(A)将A看作列向量，返回每一列元素的乘积并组成一个行向量B。<br>   如果A是多维数组，prod(A)沿着第一个非单例作为向量，返回一个行向量数组。<br>   B = prod(A,dim)  沿着指定的dim标量的维计算A矩阵的乘积。</p>\n<h2 id=\"Pre-allocating-Space-to-Variables\"><a href=\"#Pre-allocating-Space-to-Variables\" class=\"headerlink\" title=\"Pre-allocating Space to Variables\"></a>Pre-allocating Space to Variables</h2><p>tic - toc : 用来计算时间</p>\n<figure class=\"highlight matlab\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">%%</span></span><br><span class=\"line\">tic</span><br><span class=\"line\"><span class=\"keyword\">for</span> ii = <span class=\"number\">1</span>:<span class=\"number\">2000</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> jj = <span class=\"number\">1</span>:<span class=\"number\">2000</span></span><br><span class=\"line\">        A(ii, jj) = ii + jj;</span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\">toc</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">%%</span></span><br><span class=\"line\">tic</span><br><span class=\"line\">A = <span class=\"built_in\">zeros</span>(<span class=\"number\">2000</span>, <span class=\"number\">2000</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span> ii = <span class=\"number\">1</span>:<span class=\"built_in\">size</span>(A, <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> jj = <span class=\"number\">1</span>:<span class=\"built_in\">size</span>(A, <span class=\"number\">2</span>)</span><br><span class=\"line\">        A(ii, jj) = ii + jj;</span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\">toc</span><br></pre></td></tr></tbody></table></figure>\n<p>第二节明显比第一节多用时间短</p>\n<h2 id=\"Tips-for-Script-Writing\"><a href=\"#Tips-for-Script-Writing\" class=\"headerlink\" title=\"Tips for Script Writing\"></a>Tips for Script Writing</h2><p>Use ellipsis(…) to make scripts more readable(matlab中书写向量或矩阵不能直接换行)<br>e.g.  A = [1 2 3 4 5 6;7 …<br>   8 9 10 11 12]</p>\n<p>Press Ctrl + C to terminate the script before conclusion</p>\n<h2 id=\"Scripts-vs-Functions\"><a href=\"#Scripts-vs-Functions\" class=\"headerlink\" title=\"Scripts vs. Functions\"></a>Scripts vs. Functions</h2><p>Scripts and functions are both .m file that contain MATLAB commands<br>Functions are written when we need to perform routines</p>\n<ul>\n<li>Functions<br>  keyword: function<br>  <strong>function output = function name(input)</strong><br>  文件保存时要以function name为文件名保存</li>\n</ul>\n<ul>\n<li>e.g.1</li>\n</ul>\n<figure class=\"highlight matlab\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">x</span> = <span class=\"title\">freebody</span><span class=\"params\">(x0, v0, t)</span></span></span><br><span class=\"line\"><span class=\"comment\">% calculation of free falling</span></span><br><span class=\"line\"><span class=\"comment\">% x0: initial displacement in m</span></span><br><span class=\"line\"><span class=\"comment\">% v0: initial velocity in m/sec</span></span><br><span class=\"line\"><span class=\"comment\">% t: the elapsed time in sec</span></span><br><span class=\"line\"><span class=\"comment\">% x: the depth of falling in m</span></span><br><span class=\"line\">x = x0 + v0 .* t + <span class=\"number\">1</span>/<span class=\"number\">2</span>*<span class=\"number\">9.8</span>*t.*t;</span><br><span class=\"line\"><span class=\"comment\">% .*是因为输入值可以为向量</span></span><br><span class=\"line\">   </span><br><span class=\"line\"><span class=\"comment\">% 以下为调用</span></span><br><span class=\"line\">freebody(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">10</span>)</span><br><span class=\"line\"><span class=\"comment\">% 如果不用.*结果会出错，不能正确对应输入值</span></span><br><span class=\"line\">freebody([<span class=\"number\">0</span> <span class=\"number\">1</span>], [<span class=\"number\">0</span> <span class=\"number\">1</span>], [<span class=\"number\">10</span> <span class=\"number\">20</span>])</span><br></pre></td></tr></tbody></table></figure>\n\n<ul>\n<li>e.g.2<figure class=\"highlight matlab\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">[a F]</span> = <span class=\"title\">acc</span><span class=\"params\">(v2, v1, t2, t1, m)</span></span></span><br><span class=\"line\">a = (v2 - v1)./(t2 - t1);</span><br><span class=\"line\">F = m.*a;</span><br><span class=\"line\"></span><br><span class=\"line\">[Acc Force] = acc(<span class=\"number\">20</span>, <span class=\"number\">10</span>, <span class=\"number\">5</span>, <span class=\"number\">4</span>, <span class=\"number\">1</span>)</span><br></pre></td></tr></tbody></table></figure></li>\n</ul>\n<h2 id=\"Function-Default-Variables\"><a href=\"#Function-Default-Variables\" class=\"headerlink\" title=\"Function Default Variables\"></a>Function Default Variables</h2><table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">inputname</td>\n<td align=\"center\">Variable name of function input</td>\n</tr>\n<tr>\n<td align=\"center\">mfilename</td>\n<td align=\"center\">File name of currently running function</td>\n</tr>\n<tr>\n<td align=\"center\">nargin</td>\n<td align=\"center\">Number of function input arguments</td>\n</tr>\n<tr>\n<td align=\"center\">nargout</td>\n<td align=\"center\">Number of function output arguments</td>\n</tr>\n<tr>\n<td align=\"center\">varargin</td>\n<td align=\"center\">Variable length input argument list</td>\n</tr>\n<tr>\n<td align=\"center\">varargout</td>\n<td align=\"center\">Variable length output argument list</td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\"></td>\n</tr>\n</tbody></table>\n<p>e.g.</p>\n<figure class=\"highlight matlab\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">[volumn]</span> = <span class=\"title\">pillar</span><span class=\"params\">(Do, Di, height)</span></span></span><br><span class=\"line\"><span class=\"keyword\">if</span> nargin == <span class=\"number\">2</span>,</span><br><span class=\"line\">\theight = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\">volume = <span class=\"built_in\">abs</span>(Do.^<span class=\"number\">2</span> - Di.^<span class=\"number\">2</span>).*height*<span class=\"built_in\">pi</span>/<span class=\"number\">4</span>;</span><br></pre></td></tr></tbody></table></figure>\n\n<h2 id=\"Function-Handles\"><a href=\"#Function-Handles\" class=\"headerlink\" title=\"Function Handles\"></a>Function Handles</h2><p>A way to create anonymous(匿名函数) functions, i.e., one line expression functions that do not have to be defined in .m files.</p>\n<p>e.g.</p>\n<figure class=\"highlight matlab\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f = @(x) <span class=\"built_in\">exp</span>(<span class=\"number\">-2</span> * x);</span><br><span class=\"line\">x = <span class=\"number\">0</span>: <span class=\"number\">0.1</span>: <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"built_in\">plot</span>(x, f(x));</span><br></pre></td></tr></tbody></table></figure>",
            "tags": [
                "matlab"
            ]
        },
        {
            "id": "https://chencc8.github.io/2022/03/17/matlab-ji-ben-cao-zuo-ju-zhen-cao-zuo/",
            "url": "https://chencc8.github.io/2022/03/17/matlab-ji-ben-cao-zuo-ju-zhen-cao-zuo/",
            "title": "matlab基本操作+矩阵操作",
            "date_published": "2022-03-17T11:14:48.000Z",
            "content_html": "<h2 id=\"matlab基本操作\"><a href=\"#matlab基本操作\" class=\"headerlink\" title=\"matlab基本操作\"></a>matlab基本操作</h2><ul>\n<li><p>Special Variables and Constants</p>\n<ul>\n<li>ans</li>\n<li>i, j: complex number(复数)</li>\n<li>Inf: ∞</li>\n<li>eps: 2.2204e-016(指一个很小的数)</li>\n<li>NaN: not a number</li>\n<li>pi: Π</li>\n<li>变量名不能是关键词</li>\n</ul>\n</li>\n<li><p>To list keywords:<br>   iskeyword</p>\n</li>\n<li><p>e.g.</p>\n<p>  x = 1/0    -&gt; Inf<br>  x = log(0)        -&gt; -Inf<br>  x = inf/inf        -&gt; NaN</p>\n</li>\n<li><p>MATLAB Calling Priority</p>\n<ul>\n<li>Varieble &gt; Built-in function &gt; Subunction &gt; Private function(MEX-file &gt; P-file &gt; M-file)</li>\n<li>不要用 built-in function name 或者 keyword 当作 variable name</li>\n</ul>\n</li>\n<li><p>Numeric Display  “Format”<br>  short    -&gt; 小数点后4位<br>  long    -&gt; 双精度小数点后15位，单精度小数点后7位<br>  shortE    -&gt; 科学表示法，小数点后4位<br>  longE    -&gt; 科学表示法，双精度小数点后15位，单精度小数点后7位<br>  bank    -&gt; 如美金，保留至小数点后两位<br>  hex        -&gt; 转为16进制<br>  rat        -&gt; 转成有理数（即分数)</p>\n</li>\n<li><p>Command Line Terminal<br>  ; at the end of a command suppresses output to the terminal<br>  （加分号后不显示运算结果）<br>  方向键↑ display previous commands</p>\n</li>\n<li><p>Some Functions</p>\n<ul>\n<li>clc  -&gt; clear command window display</li>\n<li>clear/clear all -&gt; remove all variables in the workspace</li>\n<li>close all -&gt; to close all figures</li>\n<li>who -&gt; variables in the workspace</li>\n<li>whos -&gt; variable information of the workspace</li>\n</ul>\n</li>\n<li><p>变量命名规则</p>\n<ol>\n<li>变量名区分大小写</li>\n<li>变量名长度不超过63位</li>\n<li>注释：<strong>单％是注释，双％％是分节</strong>。双%%后面空格一下写的东西也视作注释</li>\n<li>变量名以<strong>字母</strong>开头，可以由<strong>字母，数字和下划线</strong>组成，但不能使用标点</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"matlab矩阵操作\"><a href=\"#matlab矩阵操作\" class=\"headerlink\" title=\"matlab矩阵操作\"></a>matlab矩阵操作</h2><ul>\n<li><p>Array(Vector and Matrix)<br>  Row vector:<br>  a = [1 2 3 4]<br>  Column Vector:<br>  b = [1; 2; 3; 4]</p>\n</li>\n<li><p>Array Indexing<br>  <strong>从1开始，不是从0开始</strong><br>  Select a certain subset of elements inside a matrix<br>  e.g.   A(8)<br>  A([1 3 5])<br>  A([1 3; 1 3])<br>  A(3,2)<br>  A([1 3], [1 3])</p>\n</li>\n<li><p>Replacing Entries<br>  The expression  A() = []     delete rows or columns of A<br>  A(3, : ) -&gt; 第三行全部<br>  A(3, :) = [] -&gt; 删除第三行全部</p>\n</li>\n<li><p>Colon(分号) Operator<br>  e.g.  B = 1 : 5<br> B = 1 : 2 : 5<br> str = ‘a’ : 2 : ‘z’</p>\n</li>\n<li><p>Array Concatenation<br>  F = [A B]  -&gt; 横向排列<br>  F = [A ; B]  -&gt; 竖向排列</p>\n</li>\n<li><p>Array Manipulation(类似线代)<br>  A * B -&gt; 表示矩阵乘法<br>  A .* B -&gt; 表示哈达玛积（即对应项相乘）<br>  G = A / B -&gt; 相当于A乘B的逆（inv()）<br>  H = A./ B -&gt; 对应项相除<br>  C = A` -&gt; 矩阵的转置</p>\n</li>\n<li><p>Some Special Matrix<br>  linspace(x1, x2, N) : linearly spaced vectors</p>\n<p>  用于产生x1,x2之间的N点行矢量。其中x1、x2、N分别为起始值、中止值、元素个数。若缺省N，默认点数为100。在matlab的命令窗口下输入help linspace或者doc linspace可以获得该函数的帮助信息。</p>\n<p>eye(n) : n x n identity matrix（n x n 的单位矩阵）<br>zeros(n1, n2) : n1 x n2 zero matrix<br>ones(n1, n2) : n1 x n2 matrix with every entry as 1<br>diag() : diagonal matrix （对角矩阵）<br>rand() : uniformly distributed random numbers<br>  repmat(B, 3, 1) : repmat()重复，3表示行重复了三次，1表示列重复了1次，类似于分块矩阵</p>\n</li>\n<li><p>Some Matrix Related Functions</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">max(A) -&gt; 每一列最大的数</td>\n<td align=\"center\">sort(A)</td>\n</tr>\n<tr>\n<td align=\"center\">max(max(A)) -&gt; 矩阵中最大的数</td>\n<td align=\"center\">sortrows(A)</td>\n</tr>\n<tr>\n<td align=\"center\">min(A)</td>\n<td align=\"center\">size(A)</td>\n</tr>\n<tr>\n<td align=\"center\">sum(A)</td>\n<td align=\"center\">length(A) -&gt; 矩阵A行数和列数的较大值</td>\n</tr>\n<tr>\n<td align=\"center\">mean(A)</td>\n<td align=\"center\">find(A)</td>\n</tr>\n<tr>\n<td align=\"center\"></td>\n<td align=\"center\"></td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n<p>基本上是按列（column）计算</p>\n",
            "tags": [
                "matlab"
            ]
        }
    ]
}